---
- include_tasks: consul/posix.yml
  when: ansible_system in ['Linux', 'Darwin']
  loop: '{{ geth_node_api_consul_names }}'
  loop_control:
    loop_var: 'service_name'

- include_tasks: consul/windows.yml
  when: ansible_system == 'Win32NT'
  loop: '{{ geth_node_api_consul_names }}'
  loop_control:
    loop_var: 'service_name'
